# Technical Context: voboost-config

## 1. Технологический стек

*   **Язык программирования**: [Kotlin](https://kotlinlang.org/) - официальный язык для разработки под Android, обеспечивающий выразительность, безопасность и полную совместимость с Java.
*   **Платформа**: Android.
*   **Минимальный уровень API**: API 28 (Android 9.0 Pie). Этот уровень выбран как баланс между поддержкой относительно старых устройств и доступом к современным возможностям платформы.
*   **Среда разработки**: Android Studio.
*   **Система сборки**: Gradle.

## 2. Ключевые зависимости

*   **[Hoplite](https://github.com/sksamuel/hoplite)**: Основная библиотека для работы с конфигурацией.
    *   **Модули**: `hoplite-core`, `hoplite-yaml`.
    *   **Причина выбора**: Hoplite предоставляет мощный и декларативный способ маппинга конфигурационных файлов (включая YAML) на строго типизированные Kotlin `data class`. Он поддерживает вложенные классы, `enum`, и обрабатывает ошибки парсинга, что идеально подходит для нашей задачи.

*   **[Android KTX](https://developer.android.com/kotlin/ktx)**: Набор расширений Kotlin, который делает разработку под Android более лаконичной и идиоматичной. Будет использоваться по мере необходимости.

## 3. Архитектура и паттерны

*   **Структура проекта**: Мультимодульный Gradle-проект, состоящий из модуля-библиотеки (`voboost-config`) и модуля-приложения (`voboost-config-demo`).
*   **Паттерн "Фасад"**: Класс `ConfigManager` выступает в роли фасада, скрывая внутреннюю сложность библиотеки и предоставляя простой и понятный публичный API.
*   **Паттерн "Наблюдатель" (Observer)**: Для отслеживания изменений в файле используется `android.os.FileObserver`, который уведомляет подписчиков (`OnConfigChangeListener`) о событиях.

## 4. Ограничения и особенности

*   **Работа с файловой системой**: Библиотека будет работать с файлами в приватном хранилище приложения (`Context.getFilesDir()`), чтобы не запрашивать у пользователя разрешения на доступ к общему хранилищу. Это является более безопасным подходом. `voboost-config-demo` будет демонстрировать паттерн копирования дефолтного конфига из `assets` в это хранилище.
*   **Потокобезопасность**: Начальная версия не будет гарантировать потокобезопасность. Предполагается, что вызовы методов `ConfigManager` будут производиться из одного потока (например, главного потока UI). В будущем это может быть улучшено.